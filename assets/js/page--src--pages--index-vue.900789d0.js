(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{176:function(t,e){},178:function(t,e){t.exports={functional:!0,render(t,e){const{_c:s,_v:o,data:a,children:n=[]}=e,{class:l,staticClass:r,style:i,staticStyle:c,attrs:h={},...u}=a;return s("svg",{class:[l,r],style:[i,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"776",height:"213",viewBox:"0 0 776 213"},h),...u},n.concat([s("title",[o("Logo Ajuntament de Terrassa (1)")]),s("g",{attrs:{"fill-rule":"evenodd"}},[s("path",{attrs:{d:"M203.11 40.158l8.98-26.066h.166l8.367 26.066H203.11zm-7.951 23.1l4.58-12.92h24.204l4.393 12.92h13.21L220.309 2.176h-15.583l-22.097 61.082h12.53zM246.001 13.088h13.535V2.176h-13.535v10.912zm13.1 7.71h-12.674v45.36c-.182 3.457-2.374 5.5-5.596 5.314v8.057c1.446.354 2.878.354 4.336.354 10.73 0 13.858-4.854 13.934-15.011V20.797zM296.415 63.258h12.674a119.565 119.565 0 01-.492-7.603V20.797h-12.694v25.45c-.167 6.195-3.648 9.815-7.627 9.815-6.255 0-7.521-5.236-7.597-9.815v-25.45H267.97v27.58c0 1.428.17 4.126.84 6.768 1.537 6.188 9.752 9.402 13.988 9.402 6.413 0 10.402-2.617 13.104-6.522l.512 5.233zM330.925 20.797H318.31v42.461h12.69V37.702c.168-6.174 3.644-9.728 7.612-9.728 6.27 0 7.536 5.174 7.598 9.728v25.556h12.718V35.597c0-1.452-.156-4.15-.84-6.768-1.534-6.188-9.752-9.316-13.984-9.316-6.418 0-10.402 2.53-13.023 6.437l-.157-.264v-4.889zM362.797 20.797v8.444h8.54v20.913c0 9.216 2.12 14.394 12.024 14.394 1.782 0 8.546-.616 9.976-1.29v-7.44c-1.35.08-2.697.243-4.078.243-4.368 0-5.228-1.515-5.228-7.092V29.24h9.57v-8.444h-9.57V7.836l-12.695 4.56v8.401h-8.539zM411.509 32.794c-.165-1.94 1.265-6.09 5.664-6.09 4.5 0 5.847 3.472 5.847 5.254v3.969c-5.074-.163-11.511.099-16.6 2.287-7.69 3.309-9.047 10.506-9.047 13.453 0 8.3 5.941 12.88 13.888 12.88 5.741 0 10.135-2.03 13.024-6.933h.177c0 1.756.171 3.718.419 5.644h11.425c-.162-1.271-.516-2.536-.593-4.638V35.434c0-12.794-9.565-15.922-18.12-15.922-4.575 0-9.05.674-12.525 2.694-3.372 1.968-5.66 5.257-5.742 10.588h12.183zm11.51 10.512c0 4.989-.243 12.756-7.282 12.756-3.559 0-6.17-2.538-6.17-6.071 0-6.848 9.049-6.787 13.453-6.685M457.523 20.797h-12.606v42.461l12.693.004v-25.56c.157-6.174 3.635-9.722 7.604-9.722 6.27 0 7.545 5.168 7.627 9.722v25.56h12.688v-25.56c.168-6.174 3.644-9.722 7.628-9.722 6.256 0 7.525 5.168 7.606 9.722v25.56h12.695v-25.56c0-3.39.081-6.929-1.265-10.157-1.776-4.643-8.816-8.032-13.54-8.032-6.438 0-10.426 2.535-14.384 8.032-1.782-4.643-8.812-8.032-13.554-8.032-6.429 0-10.412 2.535-13.024 6.256h-.168v-4.972zM534.085 36.944c.172-4.657 1.432-8.964 7.273-8.964 6.175 0 7.45 4.307 7.45 8.964h-14.723zm27.837 8.463c0-2.795 0-5.492-.344-8.134-.32-2.698-.916-5.229-2.105-7.608-3.554-7.46-10.159-10.153-18.115-10.153-12.937 0-20.397 9.815-20.397 22.584 0 14.237 5.845 22.45 20.397 22.45 9.905 0 18.115-3.475 19.223-13.958h-11.434c-1.18 3.879-3.396 5.473-7.789 5.473-6.52 0-7.273-5.153-7.273-10.654h27.837zM580.944 20.797h-12.619v42.465h12.7v-25.56c.158-6.174 3.635-9.722 7.616-9.722 6.258 0 7.528 5.168 7.608 9.722v25.56h12.7V35.597c0-1.452-.162-4.15-.846-6.763-1.527-6.193-9.728-9.321-13.964-9.321-6.438 0-10.396 2.535-13.038 6.437l-.157-.264v-4.889zM612.813 20.797v8.444h8.542v20.917c0 9.218 2.122 14.39 12.027 14.39 1.777 0 8.539-.616 9.996-1.286v-7.444c-1.352.08-2.717.243-4.075.243-4.417 0-5.234-1.51-5.234-7.092V29.24h9.552v-8.444h-9.552V7.836l-12.714 4.56v8.401h-8.542zM712.473 25.687h-.167c-2.373-3.563-6.925-6.175-11.348-6.175-13.184 0-19.885 11.08-19.885 22.503 0 10.921 5.844 22.532 18.272 22.532 5.52 0 10.266-2.292 13.045-7.278h.164c0 2.024.181 3.964.339 5.994h12.709c-.173-2.78-.435-5.67-.435-8.45V2.176h-12.694v23.51zm-18.276 16.328c0-6.499 1.022-14.035 9.14-14.035 6.838 0 9.136 8.208 9.136 14.035 0 5.856-2.298 14.046-9.136 14.046-8.118 0-9.14-7.528-9.14-14.046M746.042 36.944c.18-4.657 1.44-8.964 7.297-8.964 6.17 0 7.441 4.307 7.441 8.964h-14.738zm27.842 8.463c0-2.795 0-5.492-.334-8.134-.344-2.698-.935-5.229-2.12-7.608-3.56-7.46-10.136-10.153-18.091-10.153-12.967 0-20.407 9.815-20.407 22.584 0 14.237 5.83 22.45 20.407 22.45 9.896 0 18.09-3.475 19.19-13.987h-11.435c-1.18 3.908-3.36 5.502-7.755 5.502-6.524 0-7.297-5.153-7.297-10.654h27.842zM186.243 119.497h31.916v89.363h23.001v-89.363h31.91v-17.804h-86.827zM292.016 162.698c.31-8.156 2.518-15.741 12.76-15.741 10.838 0 13.063 7.585 13.063 15.74h-25.823zm48.823 14.839c0-4.886 0-9.646-.573-14.251-.598-4.763-1.643-9.199-3.716-13.363-6.247-13.046-17.838-17.808-31.774-17.808-22.69 0-35.774 17.235-35.774 39.639 0 24.939 10.262 39.328 35.774 39.328 17.379 0 31.774-6.07 33.688-24.485h-20.037c-2.083 6.824-5.928 9.646-13.65 9.646-11.41 0-12.76-9.054-12.76-18.706h48.822zM354.612 134.363c.29 5.46.736 11.692.736 14.82l.148 59.678h22.116v-36.966c.148-4.885.597-9.034 2.941-13.184 2.251-3.133 7.14-5.214 10.856-5.501h9.627v-19.744c-11.123-.31-20.625 2.655-25.344 14.39h-.305l-.45-13.493h-20.325zM413.779 134.363c.305 5.46.736 11.692.736 14.82l.146 59.678h22.118v-36.966c.138-4.885.586-9.034 2.984-13.184 2.208-3.133 7.112-5.214 10.83-5.501l9.63.004v-19.748c-11.119-.31-20.623 2.655-25.374 14.39h-.301l-.435-13.493H413.78zM495.954 155.425c-.301-3.415 2.236-10.674 9.939-10.674 7.875 0 10.239 6.07 10.239 9.199v6.972c-8.911-.31-20.178.139-29.084 4.001-13.502 5.79-15.89 18.42-15.89 23.594 0 14.56 10.388 22.57 24.347 22.57 10.101 0 17.81-3.558 22.859-12.184h.304c0 3.124.286 6.544.73 9.958h20.039c-.281-2.231-.893-4.436-1.04-8.162v-40.68c0-22.421-16.759-27.9-31.745-27.9-8.038 0-15.907 1.204-21.978 4.763-5.95 3.413-9.938 9.173-10.081 18.543h21.361zm20.178 18.417c0 8.748-.428 22.401-12.756 22.401-6.227 0-10.855-4.456-10.855-10.688 0-12.02 15.912-11.858 23.61-11.713M616.27 154.236c-1.046-16.476-14.394-22.118-30.137-22.118-13.04 0-31.909 6.84-31.909 22.423 0 17.36 13.219 20.47 27.473 23.903 4.436 1.037 15.146 3.553 15.146 9.504 0 5.784-4.596 8.296-10.71 8.296-6.52 0-11.694-3.267-12.168-9.055H553.34c.305 17.092 15.464 23.899 32.793 23.899 13.818 0 33.695-8.158 33.695-24.488 0-27.89-42.59-21.223-42.59-32.98 0-4.886 2.84-6.663 8.895-6.663 5.068 0 9.812 2.227 10.1 7.279h20.036zM691.99 154.236c-1.066-16.476-14.423-22.118-30.154-22.118-13.066 0-31.912 6.84-31.912 22.423 0 17.36 13.2 20.47 27.47 23.903 4.442 1.037 15.129 3.553 15.129 9.504 0 5.784-4.599 8.296-10.687 8.296-6.52 0-11.734-3.267-12.168-9.055h-20.622c.286 17.092 15.429 23.899 32.79 23.899 13.816 0 33.707-8.158 33.707-24.488 0-27.89-42.6-21.223-42.6-32.98 0-4.886 2.795-6.663 8.893-6.663 5.047 0 9.786 2.227 10.095 7.279h20.059zM731.318 155.425c-.302-3.415 2.212-10.674 9.938-10.674 7.87 0 10.24 6.07 10.24 9.199v6.972c-8.888-.31-20.178.139-29.109 4.001-13.496 5.79-15.865 18.42-15.865 23.594 0 14.56 10.388 22.57 24.346 22.57 10.102 0 17.81-3.558 22.852-12.184h.288c0 3.124.306 6.544.754 9.958H774.8c-.304-2.231-.916-4.436-1.04-8.162v-40.68c0-22.421-16.773-27.9-31.745-27.9-8.037 0-15.912 1.204-21.959 4.763-5.969 3.413-9.957 9.173-10.124 18.543h21.386zm20.178 18.417c0 8.748-.43 22.401-12.757 22.401-6.23 0-10.83-4.456-10.83-10.688 0-12.02 15.855-11.858 23.587-11.713M12.63 2.176h10.884l8.698 9.972 2.612-3.902 5.296 3.558-.082-9.628h10.43l6.52 9.972 3.925-4.356 4.761 4.356 4.35-9.972h9.997L84.1 11.6l3.748-3.353 3.912 3.472 6.089-9.542h10.879v9.542l6.069-3.043 2.617 3.043 9.112-9.542h9.147L122.625 34.76l-5.635 2.184-7.837 15.646h-68.69L33.08 37.372l-6.088-2.612L12.63 2.176zm99.938 13.86l-3.964 1.288-1.308 8.788 6.58-8.338-1.308-1.739zm-25.474 0l-3.066 1.288 1.308 8.788 3.949-8.338-2.19-1.739zm-27.226 2.182l3.958 8.348 1.338-8.348-3.095-2.63-2.201 2.63zm12.774-9.972h3.903l2.621 22.16H69.6l3.042-22.16zm-27.393 0h3.047l8.692 22.16h-8.692l-3.047-22.16zM38.38 36.804h73.47l-5.946 10.002h-3.041v-7.814h-6.1v7.814h-5.64v-7.814h-6.948v7.814H78.08v-7.814h-6.519v7.814h-5.664v-7.814H59.37v7.814h-6.518v-7.814H46.78v7.814h-2.192L38.38 36.804zm-7.488-6.398L20.892 8.246h2.622l13.482 22.16h-6.103zm69.559-22.16h3.486l-3.486 22.16H91.76l8.692-22.16zm-64.526 8.438L39.872 18l1.313 8.768-6.587-8.324 1.328-1.759zm82.75 13.722l10-22.183h-2.616l-13.468 22.183h6.084zM83.273 75.278l8.076 8.076-.063 103.834-8.07 8.014.057-119.924zm-9.848-13.043L1.54 134.096v-7.893l64.377-63.968h7.507zm74.225 71.475L75.776 62.235h7.909l63.965 64.359v7.116zm-71.473 75.026l71.473-71.86v7.503l-64.377 64.357h-7.096zM1.54 136.876l71.884 71.86h-7.908L1.54 144.38v-7.503zm128.324-14.6v26.315l8.281-8.281.039-9.67-8.32-8.364zm-14.985-15.21v56.573l8.485-8.568.043-39.376-8.528-8.63zM99.462 91.448l8.406 8.464v70.714l-8.406 8.425V91.448zm-35.98 30.031c0-1.084.884-1.981 1.987-1.981 1.079 0 1.963.897 1.963 1.981v7.507h-3.95v-7.507zm-27.574 0c0-1.084.877-1.981 1.957-1.981 1.113 0 1.983.897 1.983 1.981v7.507h-3.94v-7.507zm9.522 36.028l.024-16.215c0-3.557 2.842-6.437 6.404-6.437a6.44 6.44 0 016.439 6.437v16.196h12.115v-43.78h-1.824v3.13h-1.934v-3.13H64.69v3.13h-1.696v-3.13h-2.35v15.26h-3.126V99.625h-2.594v3.514h-1.562v-3.514h-2.736v3.514h-1.718v-3.514h-2.743v29.341h-3.123v-15.259h-1.796v3.13h-1.968v-3.13h-2.353v3.13h-1.69v-3.13h-2.351v43.78l12.546.02zm4.418-48.13c0-1.103.882-1.986 1.968-1.986 1.084 0 1.98.883 1.98 1.985v7.48h-3.971l.023-7.48zm24.757-42.81L6.278 135.3l68.327 68.713V66.567z"}})])]))}}},189:function(t,e){t.exports={functional:!0,render(t,e){const{_c:s,_v:o,data:a,children:n=[]}=e,{class:l,staticClass:r,style:i,staticStyle:c,attrs:h={},...u}=a;return s("svg",{class:[l,r],style:[i,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"57",height:"69",viewBox:"0 0 57 69"},h),...u},n.concat([s("path",{attrs:{fill:"#fff","fill-rule":"evenodd",d:"M24.655 35.722a.364.364 0 00-.729 0l-.001 1.377h.73zm3.844 17.407V27.85L15.876 40.487zm-7.274-16.61v.577h.316v-.576h.434v.576h.362v-.576h.334v2.804h.577V33.93h.508v.648h.316v-.648h.506v.648h.288v-.648h.478v5.393h.578V36.52h.435v.576h.315v-.576h.362v.576h.359v-.576h.335v8.054H25.49l-.001-2.982c0-.655-.533-1.183-1.192-1.183a1.18 1.18 0 00-1.182 1.183l-.003 2.987-2.318-.005V36.52zm.855 1.433a.365.365 0 00-.728 0l-.003 1.376h.73zm5.1 0a.366.366 0 00-.73 0l-.002 1.376h.73zm5.917-5.526V48.54l1.554-1.55V33.983zm2.845 2.873V45.7l1.569-1.577.013-7.24zm2.774 2.795v4.842l1.53-1.525.003-1.779zM15 42.159L26.825 54h1.457l-13.28-13.22zM30.104 54L42 42.16v-1.38L28.792 54zM28.72 27.052L42 40.2v-1.308l-11.823-11.84zm-1.824 0L15 38.818v1.454l13.28-13.22zm3.208 2.402l-.012 22.056 1.493-1.475.01-19.098zm-9.276-6.975l1.365 2.798h12.694l1.447-2.879 1.043-.4L39.79 16H38.1l-1.687 1.76-.483-.561-1.123.56V16h-2.01l-1.124 1.76-.721-.64-.698.614-.75-1.734h-1.848l-.803 1.839-.883-.799-.724.799L24.04 16h-1.928l.018 1.776-.983-.655-.48.72L19.06 16h-2.008l2.65 6zm17.183-5.363h.484l-1.85 4.08h-1.124zm-3.225 1.678l.733-.243.244.324-1.217 1.535zM33.28 17.12h.643l-.643 4.08h-1.607zm-2.47 1.43l.407.324-.73 1.535-.243-1.616zm-2.672-1.43h.723l.483 4.079h-1.769zm-1.952 1.35l.569.483-.244 1.535-.73-1.535zm9.2 3.903l-1.101 1.84h-.563v-1.44h-1.125v1.44h-1.043v-1.44h-1.287v1.44h-1.124v-1.44h-1.205v1.44h-1.042v-1.44H25.69v1.44h-1.205v-1.44H23.36v1.44h-.402l-1.15-1.84zM23.64 17.121l1.606 4.079H23.64l-.563-4.08zm-2.287 1.551l.73.243.244 1.614-1.216-1.533zm-2.293-1.551l2.492 4.079h-1.126l-1.848-4.08z"}})]))}}},192:function(t,e,s){"use strict";var o=s(176),a=s.n(o);e.default=a.a},194:function(t,e,s){"use strict";s.r(e);s(79),s(23),s(179),s(81),s(135);var o=s(50),a=(s(133),s(85)),n=s(14),l=s(51);s(138);function r(t){return{YES:"#00B263",PARTIALLY:"#E28228",NO:"#8B8B8B"}[t]}function i(t){return function(t){return{YES:"#66C87A",PARTIALLY:"#FB8F2B",NO:"#9C9C9C"}[t]}(t.openState)}function c(t){return r(t.openState)}var h,u={props:{shop:{type:Object,required:!0}},computed:{color:function(){return i(this.shop)},strokeColor:function(){return c(this.shop)}}},p=s(78),d=Object(p.a)(u,(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{height:"7",viewBox:"0 0 7 7",width:"7",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[e("g",{style:"\n      fill: "+this.color+";\n      stroke: "+this.strokeColor+";\n      stroke-width: 2;\n      fill-rule: evenodd;\n      stroke-opacity: 0.24;\n    "},[e("circle",{attrs:{cx:"3.5",cy:"3.5",r:"3"}})])])}),[],!1,null,null,null).exports;h=s(77).latLng;var m,v={components:{Oval:d},props:{shop:{type:Object,required:!0},expanded:{type:Boolean,required:!1,default:!0}},computed:Object(n.a)({openText:function(){return{YES:"Horari habitual",NO:"Tancat",PARTIALLY:"Amb alteracions"}[this.shop.openState]},distance:function(){if(!this.currentPosition)return null;var t=h(this.currentPosition.coords.latitude,this.currentPosition.coords.longitude).distanceTo(h(this.shop.coordinates.lat,this.shop.coordinates.lng));return t>1e3?"".concat(Math.round(t/100)/10,"km"):"".concat(Math.round(t),"m")}},Object(l.c)(["currentPosition","mapObject"]))},f=Object(p.a)(v,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text-gray-800"},[s("div",{staticClass:"pb-2"},[s("div",{staticClass:"text-sm mb-2 uppercase text-gray-500"},[t._v(t._s(t.shop.type))]),s("h2",{staticClass:"text-xl font-bold leading-tight"},[s("a",{staticClass:"text-gray-900",attrs:{href:"#"}},[t._v("\n        "+t._s(t.shop.name)+"\n      ")])]),s("div",{staticClass:"lg:block",class:{hidden:!t.expanded}},[t._v("\n      "+t._s(t.shop.displayAddress)+"\n    ")]),t.distance?s("span",{staticClass:"italic"},[t._v("a "+t._s(t.distance)+" de la teva ubicació")]):t._e(),s("div",{staticClass:"flex lg:flex py-2",class:{hidden:!t.expanded}},[s("div",{staticClass:"pt-2"},[s("Oval",{attrs:{shop:t.shop}})],1),s("div",{staticClass:"pl-2"},[t._v("\n        "+t._s(t.openText)),t.shop.openConditions?s("span",[t._v(" ("+t._s(t.shop.openConditions)+")")]):t._e()])]),"YES"===t.shop.ships?s("ul",{staticClass:"flex lg:flex pb-2 pt-1",class:{hidden:!t.expanded}},[s("li",{staticClass:"bg-yellow-200 px-2 py-1 rounded-full text-sm inline-block"},[t._v("\n        Enviament a domicili\n      ")])]):t._e(),t.shop.shippingConditions?s("div",{staticClass:"block lg:block pb-2",class:{hidden:!t.expanded}},[t._v("\n      "+t._s(t.shop.shippingConditions)+"\n    ")]):t._e()]),t.shop.phone||t.shop.email?s("div",{staticClass:"block",class:{hidden:!t.expanded}},[s("ul",{staticClass:"leading-relaxed"},[t.shop.phone?s("li",[t.shop.phone?s("a",{staticClass:"text-blue-500 hover:underline",attrs:{href:"tel:"+t.shop.phone},on:{click:function(t){t.stopPropagation()}}},[t._v(t._s(t.shop.phone))]):t._e()]):t._e(),t.shop.email?s("li",[s("a",{staticClass:"text-blue-500 hover:underline",attrs:{href:"mailto:"+t.shop.email},on:{click:function(t){t.stopPropagation()}}},[t._v("\n          "+t._s(t.shop.email)+"\n        ")])]):t._e()])]):t._e()])}),[],!1,null,null,null).exports,b=s(178),g=s.n(b),x=s(183),y=s.n(x),C=s(184),_=s.n(C),z=s(185),w=s.n(z),k=(s(130),s(131),s(132),s(186)),S={components:{CheckIcon:s.n(k).a},props:{filter:{type:String,required:!0}},computed:Object(n.a)({enabled:function(){return this.filters.states.includes(this.filter)},color:function(){return r(this.filter)}},Object(l.c)(["filters"])),methods:{toggle:function(){this.$store.commit("toggleStateFilter",this.filter)}}},O=Object(p.a)(S,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"outline-none px-4 text-sm transition-colors duration-100 hover:bg-gray-100",style:"color: "+t.color,on:{click:function(e){return t.toggle()}}},[s("span",{staticClass:"flex items-center transition-opacity duration-100",class:{"opacity-25":!t.enabled}},[s("CheckIcon",{staticClass:"mr-2 transform scale-75 fill-current"}),t._t("default")],2)])}),[],!1,null,null,null).exports,T={props:{separator:{type:Boolean,default:!0}}},M=Object(p.a)(T,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"bg-white rounded-lg flex shadow overflow-hidden h-10",class:{"divide-x divide-gray-200":this.separator}},[this._t("default")],2)}),[],!1,null,null,null).exports,L={props:{disabled:{type:Boolean,default:!1}}},j=Object(p.a)(L,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("button",{staticClass:"outline-none p-2 px-3 cursor-pointer transition-all hover:bg-gray-100 duration-100 active:bg-gray-200 disabled:bg-gray-100 disabled:text-gray-400",attrs:{disabled:t.disabled},on:{click:function(e){return t.$emit("click",e)}}},[t._t("default")],2)}),[],!1,null,null,null).exports;m=s(77).latLng;var $,B,F={components:{GpsIcon:_.a,GpsFixedIcon:y.a,GpsOffIcon:w.a,MapToolbarFilterButton:O,MapToolbarControlGroup:M,MapToolbarButton:j},data:function(){return{locationEnabled:!!navigator.geolocation,locationErrored:!1,locationSearching:!1}},computed:Object(n.a)({},Object(l.c)(["currentPosition","mapObject"])),methods:{requestLocation:function(){var t=this;return Object(a.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.locationSearching=!0,e.next=4,t.$store.dispatch("requestLocation");case 4:t.locationSearching=!1,t.mapObject.flyTo(m(t.currentPosition.coords.latitude,t.currentPosition.coords.longitude),17),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),t.locationSearching=!1,t.locationErrored=!0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()}}},E=Object(p.a)(F,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("MapToolbarControlGroup",{staticClass:"mr-2"},[s("MapToolbarFilterButton",{staticClass:"truncate",attrs:{filter:"YES"}},[t._v("\n    Horari habitual\n  ")]),s("MapToolbarFilterButton",{staticClass:"truncate",attrs:{filter:"PARTIALLY"}},[t._v("\n    Amb alteracions\n  ")]),s("MapToolbarFilterButton",{staticClass:"truncate",attrs:{filter:"NO"}},[t._v("\n    Tancat\n  ")]),t.locationEnabled?s("MapToolbarButton",{class:{"text-blue-600":t.currentPosition},attrs:{disabled:t.locationErrored},on:{click:function(e){return t.requestLocation()}}},[t.locationSearching?s("GpsIcon",{staticClass:"h-6 fill-current animation-spin transition-transform animation-duration-2s duration-200"}):t.currentPosition?s("GpsFixedIcon",{staticClass:"h-6 fill-current"}):t.locationErrored?s("GpsOffIcon",{staticClass:"h-6 fill-current"}):s("GpsIcon",{staticClass:"h-6 fill-current"})],1):t._e()],1)}),[],!1,null,null,null).exports,P=(s(137),s(187)),I=s.n(P),A=s(188),V=s.n(A),H={components:{AddIcon:I.a,RemoveIcon:V.a,MapToolbarButton:j,MapToolbarControlGroup:M},props:{minZoom:{type:Number,required:!1,default:null},maxZoom:{type:Number,required:!1,default:null},zoom:{type:Number,required:!1,default:null}},computed:Object(n.a)({},Object(l.c)(["mapObject"]))},q=Object(p.a)(H,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("MapToolbarControlGroup",[s("MapToolbarButton",{attrs:{disabled:t.zoom>=t.maxZoom},on:{click:function(e){return t.mapObject.zoomIn()}}},[s("AddIcon",{staticClass:"h-6 fill-current"})],1),s("MapToolbarButton",{attrs:{disabled:t.zoom<=t.minZoom},on:{click:function(e){return t.mapObject.zoomOut()}}},[s("RemoveIcon",{staticClass:"h-6 fill-current transform scale-75 lg:scale-100"})],1)],1)}),[],!1,null,null,null).exports,Z=Object(p.a)({},(function(){var t=this.$createElement;this._self._c;return this._m(0)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"flex justify-center"},[e("a",{staticClass:"px-4 py-2 flex items-center hover:underline",attrs:{href:"https://forms.gle/qWMUZbuBAyWH5yiW8",target:"_blank"}},[e("span",{staticClass:"truncate font-bold"},[e("span",{staticClass:"hidden lg:inline"},[this._v("Si no et trobes, dona't d'alta")]),e("span",{staticClass:"inline lg:hidden"},[this._v("Dona't d'alta")])])]),e("a",{staticClass:"px-4 py-2 flex items-center hover:underline",attrs:{href:"mailto:comerciants@terrassa.cat"}},[e("span",{staticClass:"truncate"},[this._v("Incidències")])]),e("a",{staticClass:"px-4 py-2 flex items-center hover:underline",attrs:{href:"https://www.terrassa.cat/ca/protecciodades",target:"_blank"}},[e("span",{staticClass:"truncate"},[this._v("Condicions d'ús")])])])}],!1,null,null,null).exports,G={};$=s(77).latLng,B=s(77).latLngBounds;var N,R={name:"Example",components:{LMap:(G=s(193)).LMap,LTileLayer:G.LTileLayer,LPopup:G.LPopup,LCircleMarker:G.LCircleMarker,LFeatureGroup:G.LFeatureGroup,LCircle:G.LCircle,ShopCard:f,Filters:E,ZoomControls:q,Logo:g.a,MapToolbarControlGroup:M,FooterLinks:Z},data:function(){return{zoom:null,bounds:null,minZoom:12,maxZoom:18,url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png",mapOptions:{zoomSnap:.5,preferCanvas:!0,zoomControl:!1},currentShop:null}},computed:Object(n.a)({markers:function(){var t=this;return this.shops.map((function(e){return{id:e.id,position:$(e.coordinates.lat,e.coordinates.lng),color:i(e),strokeColor:c(e),selected:t.selectedShop&&t.selectedShop.id===e.id,shop:e}}))},currentPositionMarker:function(){var t=this.currentPosition;if(!t)return null;var e=t.coords,s=e.accuracy,o=e.latitude,a=e.longitude;return{accuracy:s,position:$(o,a)}}},Object(l.c)(["selectedShop","currentPosition","mapObject"]),{},Object(l.b)({shops:"filteredShops"})),watch:{selectedShop:function(t){this.currentShop=t,t&&this.openPopUp()}},created:function(){var t=this;this.updateInitialBounds(),this.$nextTick((function(){var e=t.$refs.map.mapObject;t.$store.commit("setMap",e),t.$store.commit("setMapCenter",e.getCenter()),t.$refs.tooltip.mapObject.on("popupclose",(function(){return t.$store.commit("selectShop",null)})),setTimeout((function(){e.invalidateSize(),t.updateInitialBounds()}),100)}))},methods:{openPopUp:function(){var t=this;this.$nextTick((function(){return t.$refs.tooltip.mapObject.openPopup($(t.currentShop.coordinates.lat,t.currentShop.coordinates.lng))}))},updateInitialBounds:function(){this.bounds=B(this.markers.map((function(t){return t.position}))),this.$store.commit("updateMapBounds",this.bounds)},closePopUp:function(){var t=this;this.$nextTick((function(){return t.$refs.tooltip.mapObject.closePopup()}))},updateMapCenter:function(t){this.$store.commit("setMapCenter",t)},updateMapBounds:function(t){this.$store.commit("updateMapBounds",t)},toggleShop:function(t){this.$store.commit("selectShop",t)}}},Y=Object(p.a)(R,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"absolute inset-0"},[s("l-map",{ref:"map",staticClass:"relative z-20 w-full h-full",attrs:{zoom:12,bounds:t.bounds.pad(.1),"max-bounds":t.bounds.pad(.3),"max-bounds-viscosity":.99,"min-zoom":t.minZoom,"max-zoom":t.maxZoom,options:t.mapOptions},on:{"update:zoom":function(e){t.zoom=e},"update:center":function(e){return t.updateMapCenter(e)},"update:bounds":function(e){return t.updateMapBounds(e)}}},[s("l-tile-layer",{attrs:{url:t.url}}),s("l-feature-group",{ref:"tooltip"},[t.currentShop?s("l-popup",[s("div",{staticClass:"text-base"},[s("ShopCard",{attrs:{expanded:!1,shop:t.currentShop}})],1)]):t._e()],1),t._l(t.markers,(function(e){return s("l-circle-marker",{key:e.id,attrs:{radius:e.selected?12:8,stroke:!0,"lat-lng":e.position,"fill-opacity":1,"fill-color":e.color,color:e.strokeColor,weight:2},on:{click:function(s){return t.toggleShop(e.shop)}}})})),t.currentPositionMarker?s("l-circle",{attrs:{"lat-lng":t.currentPositionMarker.position,"fill-opacity":.1,color:"#0092F6","fill-color":"#00A6F2",weight:1,radius:t.currentPositionMarker.accuracy}}):t._e()],2),s("div",{staticClass:"hidden lg:flex absolute right-0 top-0 z-50 m-4"},[s("Filters"),s("ZoomControls",{attrs:{"max-zoom":t.maxZoom,"min-zoom":t.minZoom,zoom:t.zoom}})],1),s("ZoomControls",{staticClass:"absolute z-50 block lg:hidden bottom-0 right-0 m-4",attrs:{"max-zoom":t.maxZoom,"min-zoom":t.minZoom,zoom:t.zoom}}),s("Filters",{staticClass:"absolute z-50 block lg:hidden top-0 right-0 m-4"}),s("div",{staticClass:"hidden lg:block absolute bottom-0 right-0 z-50 m-4"},[s("MapToolbarControlGroup",{attrs:{separator:!1}},[s("FooterLinks"),s("a",{staticClass:"flex items-center bg-gray-300 px-4 hover:bg-gray-200 active:bg-gray-100 transition-all duration-300",attrs:{href:"https://www.terrassa.cat",target:"_blank"}},[s("Logo",{staticClass:"fill-current",attrs:{height:"1.2em",width:"5em"}})],1)],1)],1)],1)}),[],!1,null,null,null).exports,W=s(189),U=s.n(W),J=(s(86),s(30),s(134),s(190)),D=s.n(J),K=s(191),Q=s.n(K);N=s(77).latLng;var X={components:{SearchIcon:D.a,Oval:d,FilterIcon:Q.a},data:function(){return{searchText:null,shops:[],types:[],searchTypes:[],tempTypes:[],showFilters:!1,focused:!1}},computed:Object(n.a)({},Object(l.c)(["allShops","mapObject","filters"]),{},Object(l.c)({allTypes:"types"}),{showSearch:function(){return this.searchText}}),watch:{searchText:function(t){var e=this;this.$nextTick((function(){return e.search()}))}},methods:{selectShop:function(t){var e=this;this.searchText=null,this.$store.commit("selectShop",t),this.$nextTick((function(){e.mapObject.flyTo(N(t.coordinates.lat,t.coordinates.lng),17)}))},selectType:function(t){this.searchText=null,this.$store.commit("filterByTypes",[t.id])},search:function(){var t=this.searchText;if(!t)return this.shops=[];var e=this.$typeSearch.search(t).slice(0,3),s=this.$shopSearch.search(t).slice(0,5),o=this.allShops.filter((function(t){return s.map((function(t){return t.id})).includes(t.id)}));this.searchTypes=e,this.shops=o},toggleFilters:function(){this.showFilters=!this.showFilters,this.showFilters&&(this.tempTypes=this.filters.types)},filter:function(){this.$store.commit("filterByTypes",this.tempTypes),this.showFilters=!1},clearFilters:function(){this.showFilters=!1,this.$store.commit("filterByTypes",[])}}},tt=Object(p.a)(X,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"relative"},[s("div",{staticClass:"flex border-gray-200 border-b-2 items-center"},[s("div",{staticClass:"relative flex flex-1"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchText,expression:"searchText"}],staticClass:"flex-1 p-4 placeholder-gray-500 text-gray-800",attrs:{placeholder:"Busques un comerç en concret?"},domProps:{value:t.searchText},on:{input:[function(e){e.target.composing||(t.searchText=e.target.value)},function(e){t.searchText=e.target.value}],focus:function(e){t.focused=!0},blur:function(e){t.focused=!1}}}),s("SearchIcon",{staticClass:"text-gray-500 fill-current absolute m-4 right-0 top-0 pointer-events-none",class:{"text-gray-800":t.focused}})],1),s("button",{staticClass:"flex-grow-0 p-4 h-full",on:{click:function(e){return t.toggleFilters()}}},[s("FilterIcon",{staticClass:"fill-current",class:{"text-red-600":t.filters.types.length>0}})],1)]),s("transition",{attrs:{name:"slidedown"}},[t.showSearch?s("div",{staticClass:"absolute w-full bg-white shadow-md z-50 divide-y divide-gray-100"},[t.searchTypes.length>0?s("ul",{staticClass:"py-4"},t._l(t.searchTypes,(function(e){return s("li",{key:e.id},[s("a",{staticClass:"flex px-4 py-1 items-center hover:bg-gray-100 transition-colors duration-100",attrs:{href:"#"},on:{click:function(s){return t.selectType(e)}}},[s("span",{staticClass:"pl-2"},[t._v(t._s(e.id))])])])})),0):t._e(),t.shops.length>0?s("ul",{staticClass:"py-4"},t._l(t.shops,(function(e){return s("li",{key:e.id},[s("a",{staticClass:"flex px-4 py-1 items-center hover:bg-gray-100 transition-colors duration-100",attrs:{href:"#"},on:{click:function(s){return t.selectShop(e)}}},[s("Oval",{attrs:{shop:e}}),s("span",{staticClass:"pl-2"},[t._v(t._s(e.name))])],1)])})),0):s("div",{staticClass:"p-4"},[t._v("No s'ha trobat resultats")])]):t._e()]),s("transition",{attrs:{name:"slidedown"}},[t.showFilters?s("div",{staticClass:"absolute w-full bg-white shadow-md z-50 divide-y divide-gray-100 p-4",staticStyle:{"max-height":"70vh"}},[s("div",{staticClass:"flex flex-col h-full"},[s("ul",{staticClass:"overflow-auto h-64"},t._l(t.allTypes,(function(e){return s("li",{key:e.id},[s("label",{staticClass:"flex items-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.tempTypes,expression:"tempTypes"}],attrs:{type:"checkbox"},domProps:{value:e.id,checked:Array.isArray(t.tempTypes)?t._i(t.tempTypes,e.id)>-1:t.tempTypes},on:{change:function(s){var o=t.tempTypes,a=s.target,n=!!a.checked;if(Array.isArray(o)){var l=e.id,r=t._i(o,l);a.checked?r<0&&(t.tempTypes=o.concat([l])):r>-1&&(t.tempTypes=o.slice(0,r).concat(o.slice(r+1)))}else t.tempTypes=n}}}),s("span",{staticClass:"pl-2"},[t._v(t._s(e.name))])])])})),0),s("div",{staticClass:"flex-1 pt-4 flex justify-between"},[s("button",{on:{click:function(e){return t.clearFilters()}}},[t._v("Esborrar filtres")]),s("button",{staticClass:"py-2 px-4 bg-gray-100 shadow-md rounded-md transition-all duration-100 hover:bg-gray-200",on:{click:function(e){return t.filter()}}},[t._v("\n            Filtrar\n          ")])])])]):t._e()])],1)}),[],!1,null,null,null).exports,et={components:{Shield:U.a,SearchBar:tt}},st=Object(p.a)(et,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("g-link",{staticClass:"flex bg-black",attrs:{to:"/"}},[e("span",{staticClass:"bg-red-600 px-2 rounded-r-lg"},[e("Shield",{attrs:{height:"4em",width:"4em"}})],1),e("div",{staticClass:"bg-black px-4 flex-grow flex items-center text-white text-xl font-semibold"},[e("span",[this._v("Botigues Obertes")])])]),e("SearchBar")],1)}),[],!1,null,null,null).exports,ot={props:{shop:{type:Object,required:!0}},computed:Object(n.a)({selected:function(){return!!this.selectedShop&&this.shop.id===this.selectedShop.id}},Object(l.c)(["selectedShop"]),{},Object(l.b)(["visibleShops"])),watch:{selected:function(t){t&&this.scroll()},visibleShops:function(){this.selected&&this.scroll()}},methods:{selectShop:function(t){this.$store.commit("selectShop",t)},scroll:function(){this.$el.scrollIntoView({behavior:"smooth",block:"center"})}}},at={components:{ShopCard:f,ShopListItem:Object(p.a)(ot,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"bg-white rounded cursor-pointer px-6 p-4 transition-all duration-500 hover:bg-gray-100",class:{"bg-gray-100":t.selected},staticStyle:{"margin-bottom":"2px"},on:{click:function(e){return t.selectShop(t.shop)}}},[t._t("default")],2)}),[],!1,null,null,null).exports},computed:Object(n.a)({},Object(l.c)(["loaded","selectedShop"]),{},Object(l.b)({shops:"visibleShops"})),watch:{shops:function(){this.selectedShop||this.$el.scrollTo(0,0)}}},nt=Object(p.a)(at,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"flex-grow overflow-auto bg-gray-200"},[this.loaded&&this.shops.length>0?e("div",this._l(this.shops,(function(t){return e("ShopListItem",{key:t.id,attrs:{shop:t}},[e("ShopCard",{attrs:{shop:t}})],1)})),1):e("div",{staticClass:"text-center p-4"},[this.loaded?e("span",[this._v("\n      No hi ha cap comerç visible en aquesta ubicació.\n    ")]):e("span",[this._v("\n      Carregant llista de comerços...\n    ")])])])}),[],!1,null,null,null).exports,lt={components:{Logo:g.a},computed:Object(n.a)({},Object(l.c)(["welcomeSeen"])),methods:{dismiss:function(){this.$store.commit("dismissWelcome")}}},rt={components:{Map:Y,LogoBar:st,ShopList:nt,FooterLinks:Z,Welcome:Object(p.a)(lt,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"fade"}},[t.welcomeSeen?t._e():s("div",{staticClass:"fixed top-0 left-0 h-full w-full flex items-center justify-center z-50 overflow-auto",staticStyle:{"background-color":"rgba(0, 0, 0, 0.2)"}},[s("div",{staticClass:"bg-white shadow-lg rounded-lg max-w-2xl m-4 p-16"},[s("Logo",{staticClass:"w-56 h-20 mx-auto mb-4"}),s("div",{staticClass:"text-lg pt-2"},[t._v("\n        A través d'aquest portal posem a la teva disposició la informació\n        relativa de totes les botigues i establiments de la nostra ciutat\n        perquè sàpigues els serveis que t'ofereixen a data d'avui per\n        comprar-hi de forma fàcil i ràpida.\n      ")]),s("div",{staticClass:"text-lg py-4"},[t._v("\n        Perquè les botigues de Terrassa\n        "),s("span",{staticClass:"font-bold"},[t._v("ens agraden")]),t._v(".\n      ")]),s("button",{staticClass:"mx-auto block rounded-lg text-lg bg-red-600 shadow-md px-4 py-2 mt-8 text-white flex",on:{click:function(e){return t.dismiss()}}},[t._v("\n        Explorar les botigues\n      ")])],1)])])}),[],!1,null,null,null).exports},data:function(){return{client:!0}},computed:Object(n.a)({},Object(l.c)(["loaded"])),mounted:function(){var t=this;return Object(a.a)(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.$page.allShop.edges.map((function(t){return t.node})),a=Object(o.a)(new Set(s.map((function(t){return t.type})))).map((function(t){return{id:t,name:t}})),e.next=4,t.$shopSearch.addAllAsync(s);case 4:return e.next=6,t.$typeSearch.addAllAsync(a);case 6:t.$store.dispatch("loadShops",s),t.$store.commit("setTypes",a);case 8:case"end":return e.stop()}}),e)})))()}},it=s(192),ct=Object(p.a)(rt,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"h-screen bg-gray-100"},[e("div",{staticClass:"flex flex-col lg:flex-row-reverse text-gray-800 w-full h-full"},[e("div",{staticClass:"block lg:hidden"},[e("LogoBar")],1),e("div",{staticClass:"flex-shrink-0 relative flex-1 lg:flex-auto lg:flex-grow lg:h-auto z-20 lg:mb-0 lg:-ml-2"},[e("ClientOnly",[this.loaded?e("Map"):this._e()],1)],1),e("div",{staticClass:"flex-shrink flex flex-1 flex-col lg:flex-auto lg:flex-grow-0 lg:w-1/3 xl:w-1/4 overflow-auto shadow-xl-reverse lg:shadow-2xl z-40 lg:rounded-tr-lg bg-white"},[e("div",{staticClass:"hidden lg:block"},[e("LogoBar")],1),e("ShopList")],1),e("div",{staticClass:"lg:hidden relative flex-grow-0 bg-white shadow-md-reverse z-50 overflow-hidden"},[e("FooterLinks")],1)]),e("Welcome")],1)}),[],!1,null,null,null);"function"==typeof it.default&&Object(it.default)(ct);e.default=ct.exports}}]);