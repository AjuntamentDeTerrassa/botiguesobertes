(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{175:function(t,e,o){},176:function(t,e){},177:function(t,e){t.exports={functional:!0,render(t,e){const{_c:o,_v:s,data:a,children:n=[]}=e,{class:l,staticClass:r,style:i,staticStyle:c,attrs:h={},...u}=a;return o("svg",{class:[l,r],style:[i,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"106",height:"20",viewBox:"0 0 106 20"},h),...u},n.concat([o("path",{attrs:{fill:"currentColor","fill-rule":"evenodd",d:"M3.483 9.099h-1.44L0 14.694h1.159l.422-1.186H3.82l.407 1.186h1.22zm-1.59 3.48l.83-2.388h.017l.774 2.387zm4.008 2.38c-.015.316-.219.503-.516.487v.737c.133.031.266.031.399.031.994 0 1.283-.442 1.291-1.372v-4.038H5.901zm-.04-4.86h1.253V9.096H5.86zm5.792.705h-1.175v2.333c-.015.566-.337.899-.704.899-.58 0-.696-.48-.704-.899v-2.333H7.895v2.527c0 .131.016.379.079.62.14.566.9.86 1.291.86.595 0 .963-.24 1.213-.596l.047.48H11.7a9.911 9.911 0 01-.046-.699zm3.287-.116c-.595 0-.963.232-1.206.587l-.015-.022v-.45h-1.167v3.892h1.174v-2.341c.016-.567.337-.892.704-.892.58 0 .697.473.704.892v2.341h1.174v-2.536c0-.131-.015-.379-.077-.619-.141-.566-.9-.852-1.291-.852zm3.693-1.07l-1.174.419v.767h-.79v.775h.79v1.914c0 .845.196 1.319 1.111 1.319.165 0 .791-.055.925-.116v-.682c-.126.007-.25.023-.377.023-.406 0-.485-.14-.485-.652V11.58h.885v-.775h-.885zm10.604 1.07c-.595 0-.963.232-1.33.736-.165-.427-.815-.736-1.253-.736-.595 0-.963.232-1.205.573h-.016v-.457h-1.166v3.891h1.174v-2.341c.015-.567.336-.892.704-.892.58 0 .697.473.704.892v2.341h1.174v-2.341c.016-.567.337-.892.705-.892.579 0 .697.473.705.892v2.341h1.174v-2.341c0-.31.007-.637-.118-.93-.164-.427-.814-.736-1.252-.736zm-5.823 1.456c0-1.17-.885-1.457-1.675-1.457-.423 0-.837.062-1.159.248-.312.179-.523.48-.531.968h1.127c-.016-.178.117-.557.524-.557.415 0 .54.317.54.48v.364c-.47-.016-1.064.008-1.534.21a1.353 1.353 0 00-.838 1.232c0 .759.548 1.178 1.284 1.178.532 0 .94-.186 1.205-.636h.016c0 .163.016.341.04.519h1.056c-.016-.115-.047-.233-.055-.426zm-1.847 1.892c-.329 0-.571-.233-.571-.559 0-.627.837-.62 1.244-.611 0 .456-.023 1.17-.673 1.17zm13.494-1.721a2.094 2.094 0 00-.196-.698c-.328-.682-.939-.93-1.674-.93-1.198 0-1.886.9-1.886 2.07 0 1.3.539 2.053 1.886 2.053.915 0 1.674-.317 1.776-1.279h-1.056c-.11.357-.314.505-.72.505-.603 0-.673-.473-.673-.977h2.574c0-.256 0-.504-.031-.744zm-2.544-.031c.016-.427.133-.823.673-.823.571 0 .688.396.688.823zm5.556-1.596c-.595 0-.963.232-1.205.587l-.016-.022v-.45h-1.166v3.892h1.174v-2.341c.015-.567.337-.892.704-.892.58 0 .697.473.704.892v2.341h1.174v-2.536c0-.131-.015-.379-.078-.619-.14-.566-.9-.852-1.291-.852zm3.694-1.07l-1.174.419v.767h-.79v.775h.79v1.914c0 .845.196 1.319 1.111 1.319.165 0 .791-.055.924-.116v-.682c-.125.007-.25.023-.376.023-.406 0-.485-.14-.485-.652V11.58h.885v-.775h-.885zm26.166-.526h-1.174v2.155h-.016a1.332 1.332 0 00-1.049-.567c-1.22 0-1.84 1.015-1.84 2.062 0 1 .54 2.062 1.69 2.062.509 0 .948-.21 1.206-.667h.016c0 .186.016.364.03.55h1.175c-.016-.255-.04-.519-.04-.775v-4.82zm-2.02 4.937c-.75 0-.845-.69-.845-1.287s.095-1.287.846-1.287c.634 0 .845.752.845 1.287s-.211 1.287-.845 1.287zm6.496-1.72a2.093 2.093 0 00-.196-.699c-.329-.681-.939-.93-1.674-.93-1.198 0-1.886.9-1.886 2.07 0 1.302.54 2.054 1.886 2.054.915 0 1.674-.318 1.777-1.28h-1.057c-.11.357-.314.505-.72.505-.603 0-.673-.473-.673-.977h2.574c0-.255 0-.504-.031-.743zm-2.543-.031c.015-.427.132-.822.673-.822.571 0 .688.395.688.822zm9.665-3.186h-4.58v.93h1.684v4.667h1.212v-4.667h1.684v-.93zm3.543 3.217a2.112 2.112 0 00-.195-.699c-.33-.681-.94-.93-1.676-.93-1.197 0-1.886.9-1.886 2.07 0 1.302.54 2.054 1.886 2.054.916 0 1.676-.318 1.778-1.28h-1.057c-.11.357-.313.505-.72.505-.604 0-.674-.473-.674-.977h2.576c0-.255 0-.504-.032-.743zm-2.544-.031c.017-.427.134-.822.673-.822.572 0 .689.395.689.822zm4.414-.776h-.016l-.023-.705h-1.072c.016.286.039.612.039.775l.008 3.116h1.166v-1.93c.008-.256.031-.473.157-.69.116-.163.376-.271.57-.287h.51v-1.03c-.587-.016-1.089.139-1.339.751zm3.122 0h-.015l-.024-.705h-1.072c.016.286.04.612.04.775l.007 3.116h1.166v-1.93c.008-.256.032-.473.156-.69.118-.163.376-.271.572-.287h.508v-1.03c-.587-.016-1.087.139-1.338.751zm5.462.642c0-1.17-.885-1.457-1.675-1.457-.423 0-.837.062-1.159.248-.312.179-.524.48-.532.968h1.128c-.017-.178.116-.557.524-.557.414 0 .54.317.54.48v.364c-.47-.016-1.064.008-1.533.21a1.351 1.351 0 00-.838 1.232c0 .759.548 1.178 1.284 1.178.533 0 .939-.186 1.205-.636h.017c0 .163.015.341.038.519h1.058c-.017-.115-.047-.233-.055-.426v-2.123zm-1.847 1.892c-.329 0-.572-.233-.572-.559 0-.627.837-.62 1.244-.611.001.456-.022 1.17-.672 1.17zm3.896-2.231c0-.256.15-.35.47-.35.267 0 .517.117.533.38h1.057c-.054-.86-.76-1.154-1.59-1.154-.688 0-1.682.356-1.682 1.17 0 .906.697 1.069 1.448 1.248.235.053.8.186.8.496 0 .302-.243.434-.565.434-.344 0-.617-.17-.64-.474h-1.09c.017.893.814 1.249 1.73 1.249.728 0 1.777-.426 1.777-1.279 0-1.457-2.248-1.108-2.248-1.72zm3.994 0c0-.256.15-.35.47-.35.266 0 .516.117.533.38h1.057c-.055-.86-.76-1.154-1.589-1.154-.689 0-1.683.356-1.683 1.17 0 .906.696 1.069 1.449 1.248.234.053.798.186.798.496 0 .302-.243.434-.564.434-.344 0-.618-.17-.641-.474h-1.089c.017.893.814 1.249 1.73 1.249.729 0 1.777-.426 1.777-1.279 0-1.457-2.248-1.108-2.248-1.72zm6.373 2.463v-2.124c0-1.17-.885-1.457-1.675-1.457-.423 0-.837.062-1.16.248-.312.179-.522.48-.532.968h1.128c-.016-.178.118-.557.525-.557.415 0 .54.317.54.48v.364c-.47-.016-1.065.008-1.535.21a1.353 1.353 0 00-.837 1.232c0 .759.548 1.178 1.284 1.178.532 0 .938-.186 1.205-.636h.016c0 .163.017.341.04.519H106c-.016-.114-.048-.231-.056-.425zm-1.847-.232c-.328 0-.571-.233-.571-.559 0-.627.837-.62 1.245-.611 0 .456-.024 1.17-.674 1.17zm-53.02-3.656a.192.192 0 00-.194-.191.191.191 0 00-.192.191l-.001.725h.386zm2.033 9.162V6.236l-6.679 6.652zM49.262 10.8v.303h.167V10.8h.23v.303h.19V10.8h.178v1.476h.305V9.437h.268v.341h.168v-.34h.267v.34h.153v-.34h.253v2.838h.306V10.8h.23v.303h.166V10.8h.192v.303h.19V10.8h.177v4.24h-1.184v-1.57a.626.626 0 00-.63-.623.623.623 0 00-.627.623l-.001 1.572-1.227-.003V10.8zm.452.753a.192.192 0 00-.194-.19.191.191 0 00-.192.19l-.001.725h.386zm2.698 0a.193.193 0 00-.194-.19.191.191 0 00-.192.19l-.001.725h.386zm3.131-2.908v8.481l.822-.816V9.465zm1.505 1.512v5.475l.83-.83.007-3.81zm1.468 1.471v2.549l.81-.803.001-.936zm-12.547 2.14L52.224 20h.771l-7.026-6.958zM53.959 20l6.295-6.232v-.726L53.265 20zm-.732-14.183l7.027 6.92v-.689l-6.256-6.231zm-.965 0l-6.294 6.192v.766l7.027-6.958zm1.697 1.264l-.006 11.609.79-.777.005-10.052zm-4.908-3.67l.723 1.472h6.716l.766-1.515.552-.211L59.084 0h-.894l-.893.926-.255-.295-.594.295V0h-1.063l-.596.926-.381-.337-.37.324L53.643 0h-.978l-.425.968-.467-.42-.383.42L50.75 0h-1.02l.01.935-.52-.345-.254.379-.85-.968h-1.063l1.401 3.156zM58.143.587h.256l-.978 2.146h-.596zm-1.706.882l.388-.127.128.17-.643.808zM55.64.59h.34l-.34 2.147h-.85zm-1.307.753l.215.17-.386.808-.129-.85zM52.92.59h.383l.255 2.147h-.935zm-1.032.71l.3.255-.128.808-.387-.808zm4.867 2.055l-.583.968h-.297v-.758h-.595v.758h-.552v-.758h-.681v.758h-.595v-.758h-.638v.758h-.551v-.758h-.638v.758h-.637v-.758h-.595v.758h-.213l-.609-.968zM50.539.59l.85 2.147h-.85L50.242.59zm-1.21.817l.387.127.128.85-.643-.807zM48.116.59l1.318 2.147h-.595L47.86.59z"}})]))}}},184:function(t,e){t.exports={functional:!0,render(t,e){const{_c:o,_v:s,data:a,children:n=[]}=e,{class:l,staticClass:r,style:i,staticStyle:c,attrs:h={},...u}=a;return o("svg",{class:[l,r],style:[i,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"57",height:"69",viewBox:"0 0 57 69"},h),...u},n.concat([o("path",{attrs:{fill:"#fff","fill-rule":"evenodd",d:"M24.655 35.722a.364.364 0 00-.729 0l-.001 1.377h.73zm3.844 17.407V27.85L15.876 40.487zm-7.274-16.61v.577h.316v-.576h.434v.576h.362v-.576h.334v2.804h.577V33.93h.508v.648h.316v-.648h.506v.648h.288v-.648h.478v5.393h.578V36.52h.435v.576h.315v-.576h.362v.576h.359v-.576h.335v8.054H25.49l-.001-2.982c0-.655-.533-1.183-1.192-1.183a1.18 1.18 0 00-1.182 1.183l-.003 2.987-2.318-.005V36.52zm.855 1.433a.365.365 0 00-.728 0l-.003 1.376h.73zm5.1 0a.366.366 0 00-.73 0l-.002 1.376h.73zm5.917-5.526V48.54l1.554-1.55V33.983zm2.845 2.873V45.7l1.569-1.577.013-7.24zm2.774 2.795v4.842l1.53-1.525.003-1.779zM15 42.159L26.825 54h1.457l-13.28-13.22zM30.104 54L42 42.16v-1.38L28.792 54zM28.72 27.052L42 40.2v-1.308l-11.823-11.84zm-1.824 0L15 38.818v1.454l13.28-13.22zm3.208 2.402l-.012 22.056 1.493-1.475.01-19.098zm-9.276-6.975l1.365 2.798h12.694l1.447-2.879 1.043-.4L39.79 16H38.1l-1.687 1.76-.483-.561-1.123.56V16h-2.01l-1.124 1.76-.721-.64-.698.614-.75-1.734h-1.848l-.803 1.839-.883-.799-.724.799L24.04 16h-1.928l.018 1.776-.983-.655-.48.72L19.06 16h-2.008l2.65 6zm17.183-5.363h.484l-1.85 4.08h-1.124zm-3.225 1.678l.733-.243.244.324-1.217 1.535zM33.28 17.12h.643l-.643 4.08h-1.607zm-2.47 1.43l.407.324-.73 1.535-.243-1.616zm-2.672-1.43h.723l.483 4.079h-1.769zm-1.952 1.35l.569.483-.244 1.535-.73-1.535zm9.2 3.903l-1.101 1.84h-.563v-1.44h-1.125v1.44h-1.043v-1.44h-1.287v1.44h-1.124v-1.44h-1.205v1.44h-1.042v-1.44H25.69v1.44h-1.205v-1.44H23.36v1.44h-.402l-1.15-1.84zM23.64 17.121l1.606 4.079H23.64l-.563-4.08zm-2.287 1.551l.73.243.244 1.614-1.216-1.533zm-2.293-1.551l2.492 4.079h-1.126l-1.848-4.08z"}})]))}}},186:function(t,e,o){"use strict";var s=o(175);o.n(s).a},187:function(t,e,o){"use strict";var s=o(176),a=o.n(s);e.default=a.a},189:function(t,e,o){"use strict";o.r(e);o(78),o(130);var s=o(79),a=o(14),n=o(49);o(133);function l(t){return{YES:"#00B263",PARTIALLY:"#E28228",NO:"#8B8B8B"}[t]}function r(t){return function(t){return{YES:"#66C87A",PARTIALLY:"#FB8F2B",NO:"#9C9C9C"}[t]}(t.openState)}function i(t){return l(t.openState)}var c,h={props:{shop:{type:Object,required:!0}},computed:{color:function(){return r(this.shop)},strokeColor:function(){return i(this.shop)}}},u=o(77),p=Object(u.a)(h,(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{height:"7",viewBox:"0 0 7 7",width:"7",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[e("g",{style:"\n      fill: "+this.color+";\n      stroke: "+this.strokeColor+";\n      stroke-width: 2;\n      fill-rule: evenodd;\n      stroke-opacity: 0.24;\n    "},[e("circle",{attrs:{cx:"3.5",cy:"3.5",r:"3"}})])])}),[],!1,null,null,null).exports;c=o(76).latLng;var d,m={components:{Oval:p},props:{shop:{type:Object,required:!0},expanded:{type:Boolean,required:!1,default:!0}},computed:Object(a.a)({openText:function(){return{YES:"Horari habitual",NO:"Tancat",PARTIALLY:"Amb alteracions"}[this.shop.openState]},distance:function(){if(!this.currentPosition)return null;var t=c(this.currentPosition.coords.latitude,this.currentPosition.coords.longitude).distanceTo(c(this.shop.coordinates.lat,this.shop.coordinates.lng));return t>1e3?"".concat(Math.round(t/100)/10,"km"):"".concat(Math.round(t),"m")}},Object(n.c)(["currentPosition","mapObject"]))},v=Object(u.a)(m,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"text-gray-800 divide-y divide-gray-200"},[o("div",{staticClass:"pb-2"},[o("div",{staticClass:"text-sm mb-2 uppercase text-gray-500"},[t._v(t._s(t.shop.type))]),o("h2",{staticClass:"text-xl font-bold leading-tight"},[o("a",{staticClass:"text-gray-900",attrs:{href:"#"}},[t._v("\n        "+t._s(t.shop.name)+"\n      ")])]),o("div",{staticClass:"lg:block",class:{hidden:!t.expanded}},[t._v("\n      "+t._s(t.shop.displayAddress)+"\n    ")]),t.distance?o("span",{staticClass:"italic"},[t._v("a "+t._s(t.distance)+" de la teva ubicació")]):t._e(),o("div",{staticClass:"flex lg:flex py-2",class:{hidden:!t.expanded}},[o("div",{staticClass:"pt-2"},[o("Oval",{attrs:{shop:t.shop}})],1),o("div",{staticClass:"pl-2"},[t._v("\n        "+t._s(t.openText)),t.shop.openConditions?o("span",[t._v(" ("+t._s(t.shop.openConditions)+")")]):t._e()])]),"YES"===t.shop.ships?o("ul",{staticClass:"flex lg:flex pb-2 pt-1",class:{hidden:!t.expanded}},[o("li",{staticClass:"bg-yellow-200 px-2 py-1 rounded-full text-sm inline-block"},[t._v("\n        Enviament a domicili\n      ")])]):t._e(),t.shop.shippingConditions?o("div",{staticClass:"block lg:block pb-2",class:{hidden:!t.expanded}},[t._v("\n      "+t._s(t.shop.shippingConditions)+"\n    ")]):t._e()]),t.shop.phone||t.shop.email?o("div",{staticClass:"block lg:block py-4",class:{hidden:!t.expanded}},[o("ul",{staticClass:"leading-relaxed"},[t.shop.phone?o("li",[t.shop.phone?o("a",{staticClass:"text-blue-500 hover:underline",attrs:{href:"tel:"+t.shop.phone},on:{click:function(t){t.stopPropagation()}}},[t._v(t._s(t.shop.phone))]):t._e()]):t._e(),t.shop.email?o("li",[o("a",{staticClass:"text-blue-500 hover:underline",attrs:{href:"mailto:"+t.shop.email},on:{click:function(t){t.stopPropagation()}}},[t._v("\n          "+t._s(t.shop.email)+"\n        ")])]):t._e()])]):t._e()])}),[],!1,null,null,null).exports,f=o(177),b=o.n(f),g=o(178),x=o.n(g),C=o(179),z=o.n(C),_=o(180),w=o.n(_),y=(o(127),o(128),o(129),o(181)),O={components:{CheckIcon:o.n(y).a},props:{filter:{type:String,required:!0}},computed:Object(a.a)({enabled:function(){return this.openStateFilters.includes(this.filter)},color:function(){return l(this.filter)}},Object(n.c)(["openStateFilters"])),methods:{toggle:function(){this.$store.commit("toggleOpenStateFilter",this.filter)}}},S=Object(u.a)(O,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("button",{staticClass:"outline-none px-4 text-sm transition-colors duration-100 hover:bg-gray-100",style:"color: "+t.color,on:{click:function(e){return t.toggle()}}},[o("span",{staticClass:"flex items-center transition-opacity duration-100",class:{"opacity-25":!t.enabled}},[o("CheckIcon",{staticClass:"mr-2 transform scale-75 fill-current"}),t._t("default")],2)])}),[],!1,null,null,null).exports,k={props:{separator:{type:Boolean,default:!0}}},L=Object(u.a)(k,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"bg-white rounded-lg flex shadow overflow-hidden h-10",class:{"divide-x divide-gray-200":this.separator}},[this._t("default")],2)}),[],!1,null,null,null).exports,j={props:{disabled:{type:Boolean,default:!1}}},M=Object(u.a)(j,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("button",{staticClass:"outline-none p-2 px-3 cursor-pointer transition-all hover:bg-gray-100 duration-100 active:bg-gray-200 disabled:bg-gray-100 disabled:text-gray-400",attrs:{disabled:t.disabled},on:{click:function(e){return t.$emit("click",e)}}},[t._t("default")],2)}),[],!1,null,null,null).exports;d=o(76).latLng;var T,$,B={components:{GpsIcon:z.a,GpsFixedIcon:x.a,GpsOffIcon:w.a,MapToolbarFilterButton:S,MapToolbarControlGroup:L,MapToolbarButton:M},data:function(){return{locationEnabled:!!navigator.geolocation,locationErrored:!1,locationSearching:!1}},computed:Object(a.a)({},Object(n.c)(["currentPosition","mapObject"])),methods:{requestLocation:function(){var t=this;return Object(s.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.locationSearching=!0,e.next=4,t.$store.dispatch("requestLocation");case 4:t.locationSearching=!1,t.mapObject.flyTo(d(t.currentPosition.coords.latitude,t.currentPosition.coords.longitude),17),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),t.locationSearching=!1,t.locationErrored=!0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()}}},E=Object(u.a)(B,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("MapToolbarControlGroup",{staticClass:"mr-2"},[o("MapToolbarFilterButton",{staticClass:"truncate",attrs:{filter:"YES"}},[t._v("\n    Horari habitual\n  ")]),o("MapToolbarFilterButton",{staticClass:"truncate",attrs:{filter:"PARTIALLY"}},[t._v("\n    Amb alteracions\n  ")]),o("MapToolbarFilterButton",{staticClass:"truncate",attrs:{filter:"NO"}},[t._v("\n    Tancat\n  ")]),t.locationEnabled?o("MapToolbarButton",{class:{"text-blue-600":t.currentPosition},attrs:{disabled:t.locationErrored},on:{click:function(e){return t.requestLocation()}}},[t.locationSearching?o("GpsIcon",{staticClass:"h-6 fill-current animation-spin transition-transform animation-duration-2s duration-200"}):t.currentPosition?o("GpsFixedIcon",{staticClass:"h-6 fill-current"}):t.locationErrored?o("GpsOffIcon",{staticClass:"h-6 fill-current"}):o("GpsIcon",{staticClass:"h-6 fill-current"})],1):t._e()],1)}),[],!1,null,null,null).exports,P=(o(132),o(182)),I=o.n(P),F=o(183),V=o.n(F),A={components:{AddIcon:I.a,RemoveIcon:V.a,MapToolbarButton:M,MapToolbarControlGroup:L},props:{minZoom:{type:Number,required:!1,default:null},maxZoom:{type:Number,required:!1,default:null},zoom:{type:Number,required:!1,default:null}},computed:Object(a.a)({},Object(n.c)(["mapObject"]))},q=Object(u.a)(A,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("MapToolbarControlGroup",[o("MapToolbarButton",{attrs:{disabled:t.zoom>=t.maxZoom},on:{click:function(e){return t.mapObject.zoomIn()}}},[o("AddIcon",{staticClass:"h-6 fill-current"})],1),o("MapToolbarButton",{attrs:{disabled:t.zoom<=t.minZoom},on:{click:function(e){return t.mapObject.zoomOut()}}},[o("RemoveIcon",{staticClass:"h-6 fill-current transform scale-75 lg:scale-100"})],1)],1)}),[],!1,null,null,null).exports,R=Object(u.a)({},(function(){var t=this.$createElement;this._self._c;return this._m(0)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"flex justify-center"},[e("a",{staticClass:"px-4 py-2 flex items-center hover:underline",attrs:{href:"https://forms.gle/qWMUZbuBAyWH5yiW8",target:"_blank"}},[e("span",{staticClass:"truncate"},[this._v("Donar-se d'alta")])]),e("a",{staticClass:"px-4 py-2 flex items-center hover:underline",attrs:{href:"mailto:comerciants@terrassa.cat"}},[e("span",{staticClass:"truncate"},[this._v("Incidències")])]),e("a",{staticClass:"px-4 py-2 flex items-center hover:underline",attrs:{href:"https://www.terrassa.cat/ca/protecciodades",target:"_blank"}},[e("span",{staticClass:"truncate"},[this._v("Condicions d'ús")])])])}],!1,null,null,null).exports,Z={};T=o(76).latLng,$=o(76).latLngBounds;var G,H={name:"Example",components:{LMap:(Z=o(188)).LMap,LTileLayer:Z.LTileLayer,LPopup:Z.LPopup,LCircleMarker:Z.LCircleMarker,LFeatureGroup:Z.LFeatureGroup,LCircle:Z.LCircle,ShopCard:v,Filters:E,ZoomControls:q,Logo:b.a,MapToolbarControlGroup:L,FooterLinks:R},data:function(){return{zoom:null,bounds:null,minZoom:12,maxZoom:18,url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png",mapOptions:{zoomSnap:.5,preferCanvas:!0,zoomControl:!1},currentShop:null}},computed:Object(a.a)({markers:function(){var t=this;return this.shops.map((function(e){return{id:e.id,position:T(e.coordinates.lat,e.coordinates.lng),color:r(e),strokeColor:i(e),selected:t.selectedShop&&t.selectedShop.id===e.id,shop:e}}))},currentPositionMarker:function(){var t=this.currentPosition;if(!t)return null;var e=t.coords,o=e.accuracy,s=e.latitude,a=e.longitude;return{accuracy:o,position:T(s,a)}}},Object(n.c)(["selectedShop","currentPosition","mapObject"]),{},Object(n.b)({shops:"filteredShops"})),watch:{selectedShop:function(t){this.currentShop=t,t&&this.openPopUp()}},created:function(){var t=this;this.bounds=$(this.markers.map((function(t){return t.position}))),this.$store.commit("updateMapBounds",this.bounds),this.$nextTick((function(){var e=t.$refs.map.mapObject;t.$store.commit("setMap",e),t.$store.commit("setMapCenter",e.getCenter()),t.$refs.tooltip.mapObject.on("popupclose",(function(){return t.$store.commit("selectShop",null)})),setTimeout((function(){return e.invalidateSize()}),400)}))},methods:{openPopUp:function(){var t=this;this.$nextTick((function(){return t.$refs.tooltip.mapObject.openPopup(T(t.currentShop.coordinates.lat,t.currentShop.coordinates.lng))}))},closePopUp:function(){var t=this;this.$nextTick((function(){return t.$refs.tooltip.mapObject.closePopup()}))},updateMapCenter:function(t){this.$store.commit("setMapCenter",t)},updateMapBounds:function(t){this.$store.commit("updateMapBounds",t)},toggleShop:function(t){this.$store.commit("selectShop",t)}}},N=Object(u.a)(H,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"absolute inset-0"},[o("l-map",{ref:"map",staticClass:"relative z-20 w-full h-full",attrs:{zoom:12,bounds:t.bounds.pad(.1),"max-bounds":t.bounds.pad(.3),"max-bounds-viscosity":.99,"min-zoom":t.minZoom,"max-zoom":t.maxZoom,options:t.mapOptions},on:{"update:zoom":function(e){t.zoom=e},"update:center":function(e){return t.updateMapCenter(e)},"update:bounds":function(e){return t.updateMapBounds(e)}}},[o("l-tile-layer",{attrs:{url:t.url}}),o("l-feature-group",{ref:"tooltip"},[t.currentShop?o("l-popup",[o("div",{staticClass:"text-base"},[o("ShopCard",{attrs:{expanded:!1,shop:t.currentShop}})],1)]):t._e()],1),t._l(t.markers,(function(e){return o("l-circle-marker",{key:e.id,attrs:{radius:e.selected?12:8,stroke:!0,"lat-lng":e.position,"fill-opacity":1,"fill-color":e.color,color:e.strokeColor,weight:2},on:{click:function(o){return t.toggleShop(e.shop)}}})})),t.currentPositionMarker?o("l-circle",{attrs:{"lat-lng":t.currentPositionMarker.position,"fill-opacity":.1,color:"#0092F6","fill-color":"#00A6F2",weight:1,radius:t.currentPositionMarker.accuracy}}):t._e()],2),o("div",{staticClass:"hidden lg:flex absolute right-0 top-0 z-50 m-4"},[o("Filters"),o("ZoomControls",{attrs:{"max-zoom":t.maxZoom,"min-zoom":t.minZoom,zoom:t.zoom}})],1),o("ZoomControls",{staticClass:"absolute z-50 block lg:hidden bottom-0 right-0 m-4",attrs:{"max-zoom":t.maxZoom,"min-zoom":t.minZoom,zoom:t.zoom}}),o("Filters",{staticClass:"absolute z-50 block lg:hidden top-0 right-0 m-4"}),o("div",{staticClass:"hidden lg:block absolute bottom-0 right-0 z-50 m-4"},[o("MapToolbarControlGroup",{attrs:{separator:!1}},[o("FooterLinks"),o("a",{staticClass:"flex items-center bg-gray-300 px-4 hover:bg-gray-200 active:bg-gray-100 transition-all duration-300",attrs:{href:"https://www.terrassa.cat",target:"_blank"}},[o("Logo")],1)],1)],1)],1)}),[],!1,null,null,null).exports,Y=o(184),W=o.n(Y),U=(o(80),o(29),o(131),o(185)),J=o.n(U);G=o(76).latLng;var D={components:{SearchIcon:J.a,Oval:p},data:function(){return{searchText:null,searchResults:null,focused:!1}},computed:Object(a.a)({},Object(n.c)(["allShops","mapObject"]),{showSearch:function(){return this.searchText}}),watch:{searchText:function(t){var e=this;this.$nextTick((function(){return e.search()}))}},methods:{selectShop:function(t){var e=this;this.searchText=null,this.$store.commit("selectShop",t),this.$nextTick((function(){e.mapObject.flyTo(G(t.coordinates.lat,t.coordinates.lng),17)}))},search:function(){var t=this.searchText;if(!t)return this.searchResults=[];var e=this.$search.search(t).slice(0,10),o=this.allShops.filter((function(t){return e.map((function(t){return t.id})).includes(t.id)}));this.searchResults=o}}},K=Object(u.a)(D,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"relative"},[o("div",{staticClass:"flex border-gray-200 border-b-2"},[o("div",{staticClass:"relative flex flex-1"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.searchText,expression:"searchText"}],staticClass:"flex-1 p-4 placeholder-gray-500 text-gray-800",attrs:{placeholder:"Estàs buscant un comerç en concret?"},domProps:{value:t.searchText},on:{input:[function(e){e.target.composing||(t.searchText=e.target.value)},function(e){t.searchText=e.target.value}],focus:function(e){t.focused=!0},blur:function(e){t.focused=!1}}}),o("SearchIcon",{staticClass:"text-gray-500 fill-current absolute m-4 right-0 top-0 pointer-events-none",class:{"text-gray-800":t.focused}})],1)]),t.showSearch?o("div",{staticClass:"absolute w-full bg-white shadow-md py-4 z-50"},[t.searchResults&&t.searchResults.length>0?o("ul",t._l(t.searchResults,(function(e){return o("li",{key:e.id},[o("a",{staticClass:"flex px-4 py-1 items-center hover:bg-gray-100 transition-colors duration-100",attrs:{href:"#"},on:{click:function(o){return t.selectShop(e)}}},[o("Oval",{attrs:{shop:e}}),o("span",{staticClass:"pl-2"},[t._v(t._s(e.name))])],1)])})),0):o("div",{staticClass:"px-4"},[t._v("No s'ha trobat resultats")])]):t._e()])}),[],!1,null,null,null).exports,Q={components:{Shield:W.a,SearchBar:K}},X=Object(u.a)(Q,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("g-link",{staticClass:"flex bg-black",attrs:{to:"/"}},[e("span",{staticClass:"bg-red-600 px-2 rounded-r-lg"},[e("Shield",{attrs:{height:"4em",width:"4em"}})],1),e("div",{staticClass:"bg-black px-4 flex-grow flex items-center text-white text-xl font-semibold"},[e("span",[this._v("Botigues Obertes")])])]),e("SearchBar")],1)}),[],!1,null,null,null).exports,tt={props:{shop:{type:Object,required:!0}},computed:Object(a.a)({selected:function(){return!!this.selectedShop&&this.shop.id===this.selectedShop.id}},Object(n.c)(["selectedShop"]),{},Object(n.b)(["visibleShops"])),watch:{selected:function(t){t&&this.scroll()},visibleShops:function(){this.selected&&this.scroll()}},methods:{selectShop:function(t){this.$store.commit("selectShop",t)},scroll:function(){this.$el.scrollIntoView({behavior:"smooth",block:"center"})}}},et={components:{ShopCard:v,ShopListItem:Object(u.a)(tt,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"bg-white rounded cursor-pointer px-6 p-4 transition-all duration-500 hover:bg-gray-100",class:{"bg-gray-100":t.selected},staticStyle:{"margin-bottom":"2px"},on:{click:function(e){return t.selectShop(t.shop)}}},[t._t("default")],2)}),[],!1,null,null,null).exports},computed:Object(a.a)({},Object(n.c)(["loaded","selectedShop"]),{},Object(n.b)({shops:"visibleShops"})),watch:{shops:function(){this.selectedShop||this.$el.scrollTo(0,0)}}},ot=Object(u.a)(et,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"flex-grow overflow-auto bg-gray-200"},[this.loaded&&this.shops.length>0?e("div",this._l(this.shops,(function(t){return e("ShopListItem",{key:t.id,attrs:{shop:t}},[e("ShopCard",{attrs:{shop:t}})],1)})),1):e("div",{staticClass:"text-center p-4"},[this.loaded?e("span",[this._v("\n      No hi ha cap comerç visible en aquesta ubicació.\n    ")]):e("span",[this._v("\n      Carregant llista de comerços...\n    ")])])])}),[],!1,null,null,null).exports,st={components:{Logo:b.a},computed:Object(a.a)({},Object(n.c)(["welcomeSeen"])),methods:{dismiss:function(){this.$store.commit("dismissWelcome")}}},at=(o(186),{components:{Map:N,LogoBar:X,ShopList:ot,FooterLinks:R,Welcome:Object(u.a)(st,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("transition",{attrs:{name:"fade"}},[t.welcomeSeen?t._e():o("div",{staticClass:"fixed top-0 left-0 h-full w-full flex items-center justify-center z-50 overflow-auto",staticStyle:{"background-color":"rgba(0, 0, 0, 0.2)"}},[o("div",{staticClass:"bg-white shadow-lg rounded-lg max-w-3xl m-4 p-8"},[o("Logo",{staticClass:"w-64 h-20 mx-auto"}),o("div",{staticClass:"text-lg pt-2"},[t._v("\n        A través d'aquest portal posem a la teva disposició la informació\n        relativa de totes les botigues i establiments de la nostra ciutat\n        perquè sàpigues els serveis que t'ofereixen a data d'avui per\n        comprar-hi de forma fàcil i ràpida.\n      ")]),o("div",{staticClass:"text-lg py-4"},[t._v("\n        Perquè les botigues de Terrassa\n        "),o("span",{staticClass:"font-bold"},[t._v("ens agraden")]),t._v(".\n      ")]),o("button",{staticClass:"mx-auto block rounded-lg text-lg bg-red-600 shadow-md px-4 py-2 my-4 text-white flex",on:{click:function(e){return t.dismiss()}}},[o("StoreIcon",{staticClass:"fill-current mr-2"}),t._v(" Explorar les botigues\n      ")],1)],1)])])}),[],!1,null,null,null).exports},data:function(){return{client:!0}},computed:Object(a.a)({},Object(n.c)(["loaded"])),mounted:function(){var t=this;return Object(s.a)(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.$page.allShop.edges.map((function(t){return t.node})),e.next=3,t.$search.addAllAsync(o);case 3:t.$store.dispatch("loadShops",o);case 4:case"end":return e.stop()}}),e)})))()}}),nt=o(187),lt=Object(u.a)(at,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"h-screen bg-gray-100"},[e("div",{staticClass:"flex flex-col lg:flex-row-reverse text-gray-800 w-full h-full"},[e("div",{staticClass:"block lg:hidden"},[e("LogoBar")],1),e("div",{staticClass:"flex-shrink-0 relative flex-1 lg:flex-auto lg:flex-grow lg:h-auto z-20 lg:mb-0 lg:-ml-2"},[e("ClientOnly",[this.loaded?e("Map"):this._e()],1)],1),e("div",{staticClass:"flex-shrink flex flex-1 flex-col lg:flex-auto lg:flex-grow-0 lg:w-1/3 xl:w-1/4 overflow-auto shadow-xl-reverse lg:shadow-2xl z-40 lg:rounded-tr-lg bg-white"},[e("div",{staticClass:"hidden lg:block"},[e("LogoBar")],1),e("ShopList")],1),e("div",{staticClass:"lg:hidden relative flex-grow-0 bg-white shadow-md-reverse z-50 overflow-hidden"},[e("FooterLinks")],1)]),e("Welcome")],1)}),[],!1,null,null,null);"function"==typeof nt.default&&Object(nt.default)(lt);e.default=lt.exports}}]);